<%- include("layout", { title: "Watch History", user: user }) %>

<div style="margin-bottom: 32px;">
  <h1 style="font-size: 2.5rem; font-weight: 800; margin-bottom: 8px;">
    ğŸ“œ Watch History
  </h1>
  <p style="color: #b3b3b3; font-size: 1.1rem;">Your recently watched movies</p>
</div>

<section class="grid">
  <% if (!movies || movies.length === 0) { %>
    <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px;">
      <p style="font-size: 1.2rem; color: #666;">ğŸ“º No watch history yet. Start watching movies!</p>
      <a href="/dashboard" class="btn" style="margin-top: 20px; display: inline-block;">Browse Movies</a>
    </div>
  <% } else { %>
    <% movies.forEach(m => { %>
      <article class="card movie">
        <img src="<%= m.posterUrl %>" alt="<%= m.title %>" loading="lazy" />
        <div class="card-body">
          <h3><%= m.title %></h3>
          <p class="muted"><%= m.genre %> â€¢ <%= m.releaseYear %></p>
          <a class="btn" href="/movies/<%= m._id %>">ğŸ” Watch Again</a>
        </div>
      </article>
    <% }) %>
  <% } %>
</section>

<%- include("footer") %>
